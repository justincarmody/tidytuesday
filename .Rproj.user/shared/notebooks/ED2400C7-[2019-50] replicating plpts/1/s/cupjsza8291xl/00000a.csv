"0","# copy his colour palette"
"0","jet.colors <- colorRampPalette(c(""#F0FFFF"", ""cyan"", ""#007FFF"", ""yellow"", ""#FFBF00"", ""orange"", ""red"", ""#7F0000""), bias = 2.25)"
"0",""
"0","# and he does some preprocessing to get this into format to plot"
"0","the_disease <- ""Measles"""
"0","dat <- tuesdata$diseases %>%"
"0","  filter(!state%in%c(""Hawaii"",""Alaska"") & disease == the_disease) %>%"
"0","  mutate(rate = count / population * 10000 * 52 / weeks_reporting) "
"0",""
"0","dat %>%"
"0","    mutate(state = reorder(state, desc(state))) %>%"
"0","    ggplot(aes(x = year, state, fill = rate)) +"
"0","    geom_tile(colour = ""white"", size = 0.35) +"
"0","    scale_x_continuous(expand = c(0,0)) +"
"0","    scale_fill_gradientn(colours = jet.colors(16), na.value = ""white"") +"
"0","    geom_vline(xintercept = 1963, col = ""black"")"
